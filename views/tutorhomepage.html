<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutor Homepage</title>

     <!-- Vue.js 3 CDN -->
     <script src="https://unpkg.com/vue@next"></script>
     <!-- Axios CDN -->
     <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
     <!-- Boostrap -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha384-f56P1Kd4l5ndav7X55fqd9HgHfPBHHGk4ufa7XDDQYDx5gO3bIccE+Uy6c9U+fcg" crossorigin="anonymous"> -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body{
            height: 100vh;
            background: #E5E5E5 !important;
            /* display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; */
        }
          .tick-cross-icon {
        font-size: 20px; /* Adjust the size as needed */
        color: green; /* Change the color for ticks */
    }

        .cross-icon {
            font-size: 20px; /* Adjust the size as needed */
            color: red; /* Change the color for crosses */
        }
        .popup-form {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 999;
    }

      .popup-content {
          background-color: #fff;
          width: 80%;
          max-width: 400px;
          margin: 10% auto;
          padding: 20px;
          position: relative;
          border-radius: 5px;
          box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      }

      .close {
          position: absolute;
          top: 10px;
          right: 10px;
          font-size: 20px;
          cursor: pointer;
      }
      #nav_bar {
            background-color: #fff;
            box-shadow: 0 0.5rem 1rem 0 rgba(0, 0, 0, 0.1);
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            
            }

            /* Add space between the navigation brand and the navigation links */
            .navbar-brand {
            margin-right: 20px; /* Adjust the margin as needed */
            }

            .navbar-nav {
            margin-left: auto; /* Push the ul to the right to create space */
            }
            .rounded-custom {
            border-radius: 20px; /* Adjust the radius value as needed */
            }
        .shadowed-container {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 20px; /* Add padding for spacing and better visualization */
            background-color: whitesmoke; /* You can adjust the background color as needed */
        }
    </style>
</head>
  <body>
    <!-- Start of Navigation Bar -->
    <nav class="navbar dark navbar-expand-lg bg-body-tertiary py-3" id="nav_bar">
      <div class="container">
        <a class="navbar-brand" href="/ninjaturtles/landingpage/landingpage.html">
          <img src="images/bridgingdreamslogo.png" alt="bridgingDreamsLogo" width="100" height="auto" style="margin-left: 60px; outline: none;">
      </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <!-- ms-auto allows spacebetween the link "Bridging Dream" and others ul-->
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active font-weight-bold" aria-current="page" href="#" style="font-size: 20px; color: #007bff; font-weight: bold; font-family: 'Constantia', serif;">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active font-weight-bold" aria-current="page" href="#" style="font-size: 20px; color: #007bff; font-weight: bold; font-family: 'Constantia', serif;">Resource Library</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active font-weight-bold" aria-current="page" href="#" style="font-size: 20px; color: #007bff; font-weight: bold; font-family: 'Constantia', serif;">Profile</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active font-weight-bold" aria-current="page" href="#" style="font-size: 20px; color: #007bff; font-weight: bold; font-family: 'Constantia', serif;">Logout</a>
            </li>
          </ul>
        </div>
      </div>
      </nav>   
    <!-- End of Navigation Bar -->
    <section class="pt-5 position-relative" data-sal="slide-up" data-sal-delay="400">
      <div class="container position-relative">
        <div class="row justify-content-center">
          <div class="col-md-9 col-lg-7 col-xl-6">
            <div class="text-center chalkboard-text">
              <h2 class="mb-3">Welcome xxx!</h2>
            </div>
          </div>         
        </div>
      </div>
    </section>
    <div class="container" id="app">
      <div class="row">
        <div class="col-lg-9 my-4 border-end">
          <!-- Display Pending Listing -->
          <div class="row">
          <div class="col-md-1"></div>
          <div class="col-md-10 p-3 mb-3 bg-white border rounded-custom shadowed-container">
            <h4 class="text-center">Your Requests</h4>
            <table class="table">
              <thead>
                  <tr>
                      <th>Parent's Name</th>
                      <th>Child's Name</th>
                      <th>Education Level</th>
                      <th>Date & Time</th>
                      <th>Action</th>
                  </tr>
              </thead>
              <tbody>
                <!-- Pending Listing -->
                <tr v-for="listing in pendingListings">
                  <td>{{listing.parentName}}</td>
                  <td>{{listing.childName}}</td>
                  <td>{{listing.eduLevel}}</td>
                  <td>{{listing.date}} {{listing.time}}</td>
                  <td><button class="btn btn-primary" data-bs-toggle="modal" :data-bs-target="'#' + listing.listingID">View</button></td>
                </tr>
                <!-- Modal to accept/reject -->
                <div v-for="listing of pendingListings">
                  <div class="modal fade" :id="listing.listingID" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Book a Tuition Session with </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <form>
                        <div class="modal-body">
                          <ul>
                            <li>{{listing.parentName}}</li>
                            <li>{{listing.childName}}</li>
                            <li>{{listing.childGender}}</li>
                            <li>{{listing.eduLevel}}</li>
                            <li v-if="listing.addNote != ''">
                              {{listing.addNote}}
                            </li>

                          </ul>
                        </div>
                        <div class="modal-footer">
                        <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
                        <button v-on:click="handleAccept(listing.listingID)" data-bs-dismiss="modal"  type="submit" class="btn btn-primary">Accept</button> 
                        <button v-on:click="handleReject(listing.listingID)" data-bs-dismiss="modal"  type="submit" class="btn btn-primary">Reject</button> 
                        <!-- data-bs-dismiss="modal" to close modal after booking -->
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </tbody>
              </table>
          </div>
          <div class="col-md-1"></div>
        </div>

              <!-- Display Available Listing -->
        <div class="row">
          <div class="col-md-1"></div>
          <div class="p-3 col-md-10 bg-white border rounded-custom shadowed-container">
                <h4 class="text-center">Your Listings</h4>
                <table class="table text-center">
                  <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Action</th>
                  </tr>
                  <tr v-for="listing in availableListings" >
                    <td>{{listing.date}}</td>
                    <td>{{listing.time}}</td>
                    <td><button class="btn btn-danger">Delete</button></td>
                  </tr>
                </table>
                <!-- Create New Listing Form --> 
                <!-- open button -->
                <div class="text-center">
                  <button type="button" class="btn btn-light text-center fs-4" data-bs-toggle="modal" data-bs-target="#modal"> + </button>  
                </div>
                <!-- Modal -->
                <div id="modal" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Viewing Pending Listing </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <form @submit.prevent="handleNewListing()">
                          <div class="modal-body">
                            <label class="form-label" for="preferredDate">Date</label>
                            <input v-model="newListing.date" class="form-control" type="date" id="preferredDate" name="preferredDate">
                            <br>
                            <label class="form-label" for="preferredTime">Time</label>
                            <select v-model="newListing.time" class="form-control" id="preferredTime" name="preferredTime">
                                <option value="8AM-10AM">8:00 AM - 10:00 AM</option>
                                <option value="10PM-12PM">10:00 AM - 12:00 PM</option>
                                <option value="1PM-3PM">1:00 PM - 3:00 PM</option>
                                <option value="3PM-5PM">3:00 PM - 5:00 PM</option>
                                <option value="5PM-7PM">5:00 PM - 7:00 PM</option>
                                <option value="7PM-9PM">7:00 PM - 9:00 PM</option>
                            </select>
                            <br>
                          </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button data-bs-dismiss="modal"  type="submit" class="btn btn-primary">Create</button> 
                        <!-- data-bs-dismiss="modal" to close modal after booking -->
                        </div>
                      </form>
                    </div>
                    </div>
                </div>
          </div>
          <div class="col-md-1"></div>
        </div>
        </div>
        <!-- Display Confirmed Listing -->
        <div class="col-lg-3 my-4">
          <div class="p-3 bg-white border rounded-custom shadowed-container">
            <center><h4>Upcoming Sessions</h4></center>
            <div v-for="listing of confirmedListings" class="card mb-3 text-center">
              <div class="card-body">
                <h5 class="card-title">{{listing.childName}}</h5>
                <p class="card-text">{{listing.date}} {{listing.time}}</p>
                <a href="#" class="btn btn-primary" data-bs-toggle="modal" :data-bs-target="'#' + listing.listingID">View</a>
              </div>
            </div>
        </div>
        <div v-for="listing of confirmedListings">
          <div class="modal fade" :id="listing.listingID" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">View confirmed listing</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form>
                <div class="modal-body">
                  <ul>
                    <li>{{listing.parentName}}</li>
                    <li>{{listing.childName}}</li>
                    <li>{{listing.childGender}}</li>
                    <li>{{listing.eduLevel}}</li>
                    <li v-if="listing.addNote != ''">
                      {{listing.addNote}}
                    </li>

                  </ul>
                </div>
                <div class="modal-footer">
                <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
                <button data-bs-dismiss="modal"  type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> 
                <!-- data-bs-dismiss="modal" to close modal after booking -->
                </div>
              </form>
            </div>
          </div>
        </div>
        <br />
       
      
        </div> 
      </div>
    </div>
  </div>
    <!-- <script >
    document.getElementById("showPopupButton").addEventListener("click", function () {
        document.getElementById("popupForm").style.display = "block";
    });

    document.getElementById("closePopupButton").addEventListener("click", function () {
        document.getElementById("popupForm").style.display = "none";
    });

  </script> -->
  <script src="tutorHomepage.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

</body>
</html>